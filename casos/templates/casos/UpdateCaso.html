{% extends "base/base.html" %} 

{% load static %}

{% block content %}

    
    <div class="col-lg-8">

        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Agregar Casos</h5>

            <!-- General Form Elements -->
            <form method="POST" enctype="multipart/form-data" class="row mb-3">
                {% csrf_token %}
              <div class="col-md-6">
                <label for="" class="col-sm-4 col-form-label">Titulo</label>
                <div class="col-sm-10">
                    <input type="text" value="{{caso.titulo}}" name="titulo" class="form-control" id="id_Nombre_Persona" required>
                </div>
              </div>

              <div class="col-md-6">
                <label class="col-sm-4 col-form-label">Tipo</label>
                <div class="col-sm-10">
                  <select class="form-select" name="tipo" aria-label="Default select example">
                    <option selected>{{caso.tipo.titulo}}</option>
                    <!-- llamar los tipos con un for -->
                    {% for tipo in tipos %}
                      <option name="tipo" value="{{tipo.id}}">{{tipo.titulo}}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>

              <div class="col-md-6">
                <label class="col-sm-4 col-form-label">Cliente</label>
                <div class="col-sm-10">
                  <select class="form-select" name="id_cliente" multiple aria-label="multiple select example">
                    <option selected>Selecione el/los Cliente/s</option>
                    <!-- llamar los clientes con un for -->
                    {% for cliente in clientes %}
                      <option name="id_cliente" value="{{cliente.id}}">{{cliente.nombre}}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>

              <!-- campo para subir el/los documentos -->
              <div class="col-md-6">
                <label for="formFileMultiple" class="form-label">Subir Documentos</label>
                <input class="form-control" type="file" name="documentos[]" id="formFileMultiple" multiple>
                
                {% if caso.documentos %}
                    <p>Documentos actuales:</p>
                    <ul>
                        {% for documento in caso.documentos %}
                            <li>{{ caso.documentos }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            

              <!-- CAMPO PARA EL INPUT CHECK BOOLEAN DE ESTADO -->
              <div class="col-md-6">
                <label class="col-sm-4 col-form-label">Estado</label>
                <div class="col-sm-10">
                    <input type="checkbox" {% if caso.estado %}checked{% endif %} name="estado" id="estado">
                </div>
            </div>
            

              <div class="col-md-12">
                <label for="inputPassword" class="col-sm-2 col-form-label">Descripcion</label>
                <div class="col-sm-10">
                    <textarea name="descripcion" class="form-control" style="height: 100px" id="id_Descripcion" required>{{caso.descripcion}}</textarea>
                </div>
              </div>

              <div class="col-md-12">
                <div class="col-sm-10">
                  <button type="submit" class="btn btn-primary">Submit Form</button>
                </div>
              </div>

            </form><!-- End General Form Elements -->
            {{error}}

          </div>
        </div>

      </div>

{% endblock %}